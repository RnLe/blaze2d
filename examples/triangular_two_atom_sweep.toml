# Triangular lattice with two-atom basis sweep
# Sweeps second atom position to study band structure variation
# Total: 2 pol × 3 pos_x × 3 pos_y = 18 jobs

[bulk]
threads = 4
verbose = true

[solver]
type = "maxwell"

[defaults]
eps_bg = 12.0
resolution = 32
polarization = "TM"

# Sweep order: polarization (outer) → pos_x → pos_y (inner)
[[sweeps]]
parameter = "polarization"
values = ["TM", "TE"]

[[sweeps]]
parameter = "atom1.pos_x"
min = 0.2
max = 0.4
step = 0.1

[[sweeps]]
parameter = "atom1.pos_y"
min = 0.2
max = 0.4
step = 0.1

[geometry]
eps_bg = 12.0

[geometry.lattice]
type = "triangular"
a = 1.0

# Atom 0: fixed at origin
[[geometry.atoms]]
pos = [0.0, 0.0]
radius = 0.15
eps_inside = 1.0

# Atom 1: position swept
[[geometry.atoms]]
pos = [0.33, 0.33]
radius = 0.15
eps_inside = 1.0

[grid]
nx = 32
ny = 32
lx = 1.0
ly = 1.0

[path]
preset = "triangular"
segments_per_leg = 10

[eigensolver]
n_bands = 8
max_iter = 200
tol = 1e-6

[output]
mode = "full"
directory = "./triangular_two_atom_output"
prefix = "job"
