# Stress test: 250 jobs for adaptive thread manager testing
# 2 pol × 5 atom0.radius × 5 atom1.radius × 5 atom1.pos_x = 250 jobs

[bulk]
threads = 4

[solver]
type = "maxwell"

[defaults]
resolution = 32
polarization = "TM"

[[sweeps]]
parameter = "polarization"
values = ["TM", "TE"]

[[sweeps]]
parameter = "atom0.radius"
min = 0.15
max = 0.35
step = 0.05

[[sweeps]]
parameter = "atom1.radius"
min = 0.10
max = 0.30
step = 0.05

[[sweeps]]
parameter = "atom1.pos_x"
min = 0.60
max = 0.80
step = 0.05

[geometry]
eps_bg = 12.0

[geometry.lattice]
type = "square"
a = 1.0

[[geometry.atoms]]
pos = [0.25, 0.25]
radius = 0.2
eps_inside = 1.0

[[geometry.atoms]]
pos = [0.75, 0.75]
radius = 0.2
eps_inside = 1.0

[grid]
nx = 32
ny = 32
lx = 1.0
ly = 1.0

[path]
preset = "square"
segments_per_leg = 5

[eigensolver]
n_bands = 4
max_iter = 100
tol = 1e-5

[output]
mode = "full"
directory = "./stress_test_output"
prefix = "job"
