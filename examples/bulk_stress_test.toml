# ==============================================================================
# Large Stress Test Configuration
# ==============================================================================
# This file is for stress testing the adaptive thread manager.
# Total configurations: 5×5×5×2 = 250 jobs

[bulk]
threads = 4  # Will be overridden by CLI --threads -1

[geometry]
eps_bg = 12.0

[geometry.lattice]
type = "square"
a = 1.0

[[geometry.atoms]]
pos = [0.25, 0.25]
radius = 0.2
eps_inside = 1.0

[[geometry.atoms]]
pos = [0.75, 0.75]
radius = 0.2
eps_inside = 1.0

[grid]
nx = 32
ny = 32

polarization = "TM"

[path]
preset = "square"
segments_per_leg = 5

[eigensolver]
n_bands = 4
max_iter = 100
tol = 1e-5

[dielectric.smoothing]
mesh_size = 4

# ============================================================================
# Parameter Ranges (Cartesian product)
# ============================================================================

[ranges]
polarization = ["TM", "TE"]

[[ranges.atoms]]
radius = { min = 0.15, max = 0.35, step = 0.05 }  # 5 values

[[ranges.atoms]]
radius = { min = 0.10, max = 0.30, step = 0.05 }  # 5 values
pos_x = { min = 0.60, max = 0.80, step = 0.05 }   # 5 values

# ============================================================================
# Output
# ============================================================================

[output]
mode = "full"
directory = "./stress_test_output"
prefix = "job"
