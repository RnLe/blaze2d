# Selective output: only high-symmetry points and gap bands
# Outputs single merged CSV for band gap analysis
# Total: 3 eps × 3 radii = 9 jobs

[bulk]
verbose = true

[solver]
type = "maxwell"

[defaults]
eps_bg = 12.0
resolution = 32
polarization = "TM"

[[sweeps]]
parameter = "eps_bg"
min = 10.0
max = 14.0
step = 2.0

[[sweeps]]
parameter = "atom0.radius"
min = 0.2
max = 0.4
step = 0.1

[geometry]
[geometry.lattice]
type = "square"
a = 1.0

[[geometry.atoms]]
pos = [0.5, 0.5]
radius = 0.3
eps_inside = 1.0

[grid]
nx = 32
ny = 32
lx = 1.0
ly = 1.0

[path]
preset = "square"
segments_per_leg = 10

[eigensolver]
n_bands = 8
max_iter = 200
tol = 1e-4

[output]
mode = "selective"
filename = "./band_gap_analysis.csv"

[output.selective]
# High-symmetry points: Γ=0, X=10, M=20
k_indices = [0, 10, 20]
bands = [1, 2, 3, 4, 5]
